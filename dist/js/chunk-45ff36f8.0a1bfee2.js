(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-45ff36f8"],{"4de4":function(e,t,n){"use strict";var i=n("23e7"),o=n("b727").filter,r=n("1dde"),a=n("ae40"),s=r("filter"),c=a("filter");i({target:"Array",proto:!0,forced:!s||!c},{filter:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},7753:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[e._m(0),n("div",{ref:"container",staticClass:"container",attrs:{id:"container"}})])},o=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("多选操作（测试用的demo,路由列表没有列出）")])])}],r=(n("99af"),n("4de4"),n("7db0"),n("c975"),n("fb6a"),n("a434"),n("1b62")),a=n("362d"),s=n.n(a),c={name:"SelectAndTransform",mixins:[r["b"]],data:function(){return{starPosition:{x1:"",x2:"",y1:"",y2:""},isFirst:!0}},created:function(){var e=this;setTimeout((function(){e.addElem()}),20)},methods:{addElem:function(){var e=this.pageStage,t=this.pageLayer[0].layer,n=new s.a.Rect({x:60,y:60,width:100,height:90,fill:"red",name:"rect",draggable:!0});t.add(n);var i=new s.a.Rect({x:250,y:100,width:150,height:90,fill:"green",name:"rect",draggable:!0});t.add(i);var o=new s.a.Transformer({name:"tr"});t.add(o),o.nodes([n,i]),t.draw();var r=new s.a.Rect({fill:"rgba(0,0,255,0.5)",visible:!1});t.add(r),this.mousedownTouchstart(e,r,t),this.mousemoveTouchmove(e,r,t),this.mouseupTouchend(e,t,r,o),this.clickTap(e,t,r,o)},mousedownTouchstart:function(e,t,n){var i=this;e.on("mousedown touchstart",(function(o){if(o.target===e){console.log("触发mousedown");var r=e.getPointerPosition().x,a=e.getPointerPosition().y,s=e.getPointerPosition().x,c=e.getPointerPosition().y;i.starPosition={x1:r,x2:s,y1:a,y2:c},t.visible(!0),t.width(0),t.height(0),n.draw()}}))},mousemoveTouchmove:function(e,t,n){var i=this;e.on("mousemove touchmove",(function(){if(t.visible()){console.log("触发mousemove");var o=i.starPosition,r=o.x1,a=o.y1,s=e.getPointerPosition().x,c=e.getPointerPosition().y;t.setAttrs({x:Math.min(r,s),y:Math.min(a,c),width:Math.abs(s-r),height:Math.abs(c-a)}),n.batchDraw()}}))},mouseupTouchend:function(e,t,n,i){e.on("mouseup touchend",(function(){if(n.visible()){console.log("触发mouseup"),setTimeout((function(){n.visible(!1),t.batchDraw()}));var o=e.find(".rect").toArray();console.log("选择结果",o);var r=n.getClientRect(),a=o.filter((function(e){return s.a.Util.haveIntersection(r,e.getClientRect())}));i.nodes(a),t.batchDraw()}}))},clickTap:function(e,t,n,i){e.on("click tap",(function(o){if(!n.visible()){if(console.log("触发click"),o.target===e)return i.nodes([]),void t.draw();if(o.target.hasName("rect")){var r=o.evt.shiftKey||o.evt.ctrlKey||o.evt.metaKey,a=i.nodes().indexOf(o.target)>=0;if(r||a){if(r&&a){var s=i.nodes().slice();s.splice(s.indexOf(o.target),1),i.nodes(s)}else if(r&&!a){var c=i.nodes().concat([o.target]);i.nodes(c)}}else i.nodes([o.target]);t.draw()}}}))}}},d=c,f=n("2877"),u=Object(f["a"])(d,i,o,!1,null,null,null);t["default"]=u.exports},"7db0":function(e,t,n){"use strict";var i=n("23e7"),o=n("b727").find,r=n("44d2"),a=n("ae40"),s="find",c=!0,d=a(s);s in[]&&Array(1)[s]((function(){c=!1})),i({target:"Array",proto:!0,forced:c||!d},{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),r(s)},a434:function(e,t,n){"use strict";var i=n("23e7"),o=n("23cb"),r=n("a691"),a=n("50c4"),s=n("7b0b"),c=n("65f0"),d=n("8418"),f=n("1dde"),u=n("ae40"),l=f("splice"),h=u("splice",{ACCESSORS:!0,0:0,1:2}),v=Math.max,g=Math.min,m=9007199254740991,p="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!l||!h},{splice:function(e,t){var n,i,f,u,l,h,w=s(this),b=a(w.length),x=o(e,b),y=arguments.length;if(0===y?n=i=0:1===y?(n=0,i=b-x):(n=y-2,i=g(v(r(t),0),b-x)),b+n-i>m)throw TypeError(p);for(f=c(w,i),u=0;u<i;u++)l=x+u,l in w&&d(f,u,w[l]);if(f.length=i,n<i){for(u=x;u<b-i;u++)l=u+i,h=u+n,l in w?w[h]=w[l]:delete w[h];for(u=b;u>b-i+n;u--)delete w[u-1]}else if(n>i)for(u=b-i;u>x;u--)l=u+i-1,h=u+n-1,l in w?w[h]=w[l]:delete w[h];for(u=0;u<n;u++)w[u+x]=arguments[u+2];return w.length=b-i+n,f}})},a640:function(e,t,n){"use strict";var i=n("d039");e.exports=function(e,t){var n=[][e];return!!n&&i((function(){n.call(null,t||function(){throw 1},1)}))}},c975:function(e,t,n){"use strict";var i=n("23e7"),o=n("4d64").indexOf,r=n("a640"),a=n("ae40"),s=[].indexOf,c=!!s&&1/[1].indexOf(1,-0)<0,d=r("indexOf"),f=a("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:c||!d||!f},{indexOf:function(e){return c?s.apply(this,arguments)||0:o(this,e,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-45ff36f8.0a1bfee2.js.map